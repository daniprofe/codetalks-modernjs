<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Modern Javascript I: ES6/ES2015 & Babel</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

        <link rel="stylesheet" href="mycss/01.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>

	<body>
		<div class="reveal">
			<div class="slides">

				<section class="center">
					<h1>Modern Javascript I: ES6/ES2015 & Babel</h1>
					<h2>by <a href="mailto:daniprofe@gmail.com">Daniprofe</a></h2>
				</section>

				<section>

					<!-- Javascript vs ECMAScript, versions timeline... -->

					<section class="red" data-background="img/01/confused.jpeg">

						<h2>What-the-hell am I using?</h2>
						<h2>Javascript or ES?</h2>

                        <aside class="notes" data-markdown>

							[A Brief History of Javascript](https://auth0.com/blog/a-brief-history-of-javascript/)

							Brendan Eich developed Javascript in only 10 days for Netscape. It was first released on Netscape Navigator 2.0, released on May 1995

							It was firstly named 'Mocha', soon changed to 'LiveScript' and finally to 'Javascript'

							[ECMA](http://www.ecma-international.org) means 'European association for standardizing information and communication systems'

                            Netscape submitted Javascript to ECMA for standarization on november 1996. The standard was named ECMA-262, aka ECMAScript, and is managed by the TC-39 comitee

							The first ECMAScript (ES1) was released with Netscape Navigator 4 on June 1997

							[List of EMCASCript engines](https://en.wikipedia.org/wiki/List_of_ECMAScript_engines)
							[JavaScript Versions: ES6 and Before](https://www.codecademy.com/articles/javascript-versions)

						</aside>

					</section>

					<section class="center" data-background="img/01/evolution_of_javascript.jpeg">
						<img class="fragment stretch" src="img/01/es_timeline_02.png" />
					</section>

					<section class="green" data-background="img/01/es5_and_es6.jpeg">
						<h2>ES6 / ES2015</h2>
						<h3>The 'biggest' release since 2009 (ES5)</h3>
					</section>

					<section class="center" data-background="img/01/iron_giant.jpeg">
						<h2>Big features</h2>
						<ul class="red">
							<li>Modules</li>
							<li>Promises</li>
						</ul>
					</section>

					<section class="center red" data-background="img/01/sugar.jpg">
						<h2>Syntactic sugar</h2>
						<ul>
							<li>let and const</li>
							<li>arrow functions</li>
							<li>default parameters</li>
							<li>rest operator</li>
							<li>spread operator</li>
							<li>destructuring</li>
							<li>template strings</li>
						</ul>
					</section>

					<section class="center">
						<h2>Things you should now...</h2>
						<h3>...but maybe you don't know yet</h3>
						<ul>
							<li>var: scope, hoisting, overwrite</li>
							<li>strict mode</li>
							<li>undefined, falsy</li>
						</ul>
					</section>

				</section>

				<section>

					<section>
						<h3>OK, then... can I use it ES6 just now?</h3>
						<h4>Not an easy answer, dude!</h4>
						<img class="stretch" src="img/01/es6_compatibility_table.png">
						<div>
						    <a class="image-baseline-ref" href="http://kangax.github.io/compat-table/es6/">ES6 compatibility table</a>
					  </div>
					</section>

					<section id='slide-transpiler-definition'>
						<h1>Do you know what means 'transpile'?</h1>
						<dl>
							<dt>Transpiler</dt>
                            <dd>A source-to-source compiler, transcompiler or transpiler is a type of compiler that takes the source code of a program written in one programming language as its input and produces the equivalent source code in another programming language.</dd>
					    </dl>
					</section>

					<section data-background="img/01/babel.jpg">
					</section>

				</section>

				<section>

					<section data-background="img/01/boxing.jpg">
						<div style="color: #117929;">
						  <h1 style="display: inline;">var</h1> <h3 style="display: inline;">vs</h3> <h1 style="display: inline;">let</h1>
					  </div>
					</section>

                    <section id="slide-dont-force" class="green" data-background="img/01/dont_force.jpg">
						<h2>I could simply tell you...<h2>
						<h3>you</h3> <h1>MUST</h1> <h3>use <strong>let</strong> and <strong>const</strong></h3>
					</section>

					<section class="center red" background-color="white">

						<h2>And if you are a bad boy...</h2>

						<div class="fragment fade-in">
						    <img class="stretch fragment fade-out" src="img/01/azotes.jpeg" />
					    </div>

						<div class="fragment fade-in">
						    <img class="stretch fragment fade-out" src="img/01/bart.png" />
					    </div>

					</section>

					<section class="center">
						<h2>But I'm not this kind of teacher...</h2>
					    <img src="img/01/bad_teacher.jpg" />
                    </section>

					<section class="center">
						<h2>I prefer to be like this teacher!</h2>
						<img src="img/01/jackblack_school_of_rock.jpg" />
						<h2 class="fragment">Let's rock!</h2>
					</section>


					<section>

						<h3>What will be shown on console?</h3>
						<pre><code data-trim class="javascript">
							var counter = 10;

							// A lot of complex operations...

							var result = counter * 2;

							// More complex things happen...

							rsult = result * 2;

							// And finally we show the result!

							console.log(result);
						</code></pre>

						<h3 class="fragment">Do you want to avoid misstyping errors?</h3>

					</section>

					<section data-background="img/01/strict.jpg">

						<h1>Let's be strict!</h1>
						<pre><code data-trim class="javascript">
                            "use strict";
						</code></pre>

						<aside class="notes">
							<pre style="font-size: 0.6em;">
(function () {

	"use strict";

	var counter = 10;

	// A lot of complex operations...

	var result = counter * 2;

	// More complex things happen...

	rsult = result * 2;

	// And finally we show the result!

	console.log(result);

}());
							</pre>
						</aside>

					</section>

					<section data-background="img/01/scope.png">

						<h2>var has a <strong>function</strong> scope</h2>
						<h3>global vs local</h3>

						<h4>What will be shown on console?</h4>

						<pre><code data-trim class="javascript">
						var globalVar = 'global';

						function myFunction() {

						    var localVar = 'local';

						    console.log('Inside function, global: ' + globalVar);
						    console.log('Inside function, local: ' + localVar);

						}

						myFunction();

						console.log('Outside function, global: ' + globalVar);
						console.log('Outside function, local: ' + localVar);
						</code></pre>

					</section>

					<section data-background="img/01/shadow.jpg">

						<h2>var has a <strong>function</strong> scope</h2>
						<h3>shadowing</h3>

						<h4>What will be shown on console?</h4>

						<pre><code data-trim class="javascript">
							var myVar = 10;

							console.log('Just initialized: ' + myVar);

							function myFunction() {

							    var myVar = 20;
							    console.log('Inside function: ' + myVar);

							}

							myFunction();

							console.log('Outside function: ' + myVar);
						</code></pre>

					</section>

					<section data-background="img/01/upstairs.jpg">
						<h1>WTF is 'hoisting'?</h1>
						<img class="fragment stretch" src="img/01/hoisted.png">
					</section>

					<section data-background="img/01/upstairs.jpg">

						<h2>var has a <strong>function</strong> scope</h2>
						<h3>hoisting</h3>

						<h4>What will be shown on console?</h4>

						<pre><code data-trim class="javascript">
						"use strict";

						var testing = true;

						console.log('myVar still not declared! ' + myVar);

						if (testing) {
						    var myVar = -1;
						}
						</code></pre>

						<aside class="notes">
							<pre style="font-size: 0.6em;">
(function () {

	"use strict";

	var testing = true;

	console.log('myVar still not declared! ' + myVar);

	if (testing) {
	    var myVar = -1;
	}

}());
							</pre>
						</aside>

					</section>

					<section>

						<h2>var has a <strong>function</strong> scope</h2>
						<h3>hoisting: accidentally overwriting vars</h3>

						<h4>What will be shown on console? (with 'testing' true/false)</h4>

						<pre><code data-trim class="javascript">
						var myVar = 10;
						var testing = true;

						console.log('Just initialized: ' + myVar);

						if (testing) {
						    var myVar = -1;
						    console.log(
						        'Just testing, this should be a temp value: ' +
						        myVar
						    );
						}

						console.log('Final value: ' + myVar);
						</code></pre>

					</section>

					<section>

						<h2>Accidentally overwriting is so dangerous!</h2>

						<h4>What will happen if you execute this code?</h4>

						<pre><code data-trim class="javascript">
							for (var i = 1; i <= 10; i++) {

							    console.log('Outer -> ' + i);

							    for (var i = 1; i <= 5; i++) {
							        console.log('  Inner -> ' + i);
							    }

							}

							console.log('Finished! -> ' + i);
						</code></pre>

						<img class="stretch fragment" src="img/01/infinite_loop.gif" />

					</section>

					<section class="center green" data-background="img/01/kid-superheroe.jpg">
						<h1><strong>let</strong> comes to the rescue!</h1>
					</section>

					<section>

						<h2>let has <strong>block</strong> scope</h2>
						<h3>Reuse for counters without worries!</h3>

						<pre><code data-trim class="javascript">
							for (let j = 1; j <= 10; j++) {

							    console.log('Outer -> ' + j);

							    for (let j = 1; j <= 5; j++) {
							        console.log('  Inner -> ' + j);
							    }

							}

							console.log('Finished! -> ' + j);
						</code></pre>

					</section>

					<section>

						<h2>const</h2>
						<h3>Is this the const we are using on other languages?</h3>

						<pre><code data-trim class="javascript">
							const notChangeAllowed = 8;
							console.log(notChangeAllowed);
						</code></pre>

						<pre class="fragment"><code data-trim class="javascript">
							notChangeAllowed = 10;
							notChangeAllowed++;
						</code></pre>

					</section>

					<section>

						<h2>const</h2>
						<h3>Is this the const we are using on other languages?</h3>

						<pre><code data-trim class="javascript">
							const person = {
							    name: 'Pedro',
							    email: 'pedro@aqui.es'
							};

							console.log(person);
						</code></pre>

						<pre class="fragment"><code data-trim class="javascript">
							person.name = 'Juan';
							person.phone = '668123123';

							console.log(person);
						</code></pre>

						<pre class="fragment"><code data-trim class="javascript">
							person = {
							    name: 'María'
							};
						</code></pre>

					</section>

					<section>
						<h1>Conclusions</h1>
						<ul>
							<li class="fragment">Don't use <strong>var</strong>! <span class="fragment">forget it!</span> <span class="fragment">forever!</span> <span class="fragment">not kidding!</span></li>
							<li class="fragment">Use <strong>const</strong> when you don't need to re-assign</li>
							<li class="fragment">Use <strong>let</strong> when you have to re-assign</li>
						</ul>
					</section>

				</section>

				<section>

                    <section class="center" data-background="img/01/arrow.jpg">
						<h1>Arrow functions</h1>
					</section>

					<section class="center">
						<h3>Build a new array with 'pretty' days and print it on console</h3>
						<pre><code data-trim class="javascript">
							const week = [
							    'lunes', 'martes', 'miércoles', 'jueves',
							    'viernes', 'sábado', 'domingo'
							];

							function ucFirst(string) {
							    return string.charAt(0).toUpperCase() + string.slice(1);
							}
						</code></pre>

                        <div class="fragment fade-in">
	                        <div class="fragment fade-out">
								<h3>ES5 way</h3>
								<pre><code data-trim class="javascript">
									ucWeek = week.map(function(day) { return ucFirst(day); });
									console.log(ucWeek);
								</code></pre>
						    </div>
						</div>

						<div class="fragment">
							<h3>ES6 way: arrow function</h3>
							<pre><code data-trim class="javascript">
								ucWeek = week.map(day => ucFirst(day));
								console.log(ucWeek);
							</code></pre>
						</div>

					</section>

					<section class="center">
						<h3>Show every day on spanish and english</h3>
						<pre><code data-trim class="javascript">
							const week = {
							    spanish: [
							        'lunes', 'martes', 'miércoles', 'jueves',
							        'viernes', 'sábado', 'domingo'],
							    english: [
							        'monday', 'tuesday', 'wednesday', 'thursday',
							        'friday', 'saturday', 'sunday']
							};
						</code></pre>

                        <div class="fragment fade-in">
	                        <div class="fragment fade-out">
								<h3>ES5 way</h3>
								<pre><code data-trim class="javascript">
									bilingualWeek = week.spanish.map(function(spanishDay, index) {
										return ucFirst(spanishDay) + ' - ' +
										    ucFirst(week.english[index]);
									});
									console.log(bilingualWeek);
								</code></pre>
						    </div>
						</div>

						<div class="fragment">
							<h3>ES6 way: arrow function</h3>
							<pre><code data-trim class="javascript">
								bilingualWeek = week.spanish.map(
								    (spanishDay, index) => ucFirst(spanishDay) + ' - ' +
										ucFirst(week.english[index])
								);
								console.log(bilingualWeek);
							</code></pre>
						</div>

					</section>

					<section class="center">

						<h3>Multiline function body</h3>
						<pre><code data-trim class="javascript">
							const week = [
							    'lunes', 'martes', 'miércoles', 'jueves',
							    'viernes', 'sábado', 'domingo'
							];

							function ucFirst(string) {
							    return string.charAt(0).toUpperCase() + string.slice(1);
							}

							ucWeek = week.map(day => {
								console.log('*');
								return ucFirst(day);
							});

							console.log(ucWeek);
						</code></pre>

					</section>

					<section class="center">

						<h3>Returning an object: use curly braces!</h3>
						<pre><code data-trim class="javascript">
							bilingualWeekObj = week.spanish.map(
							    (spanishDay, index) => {
							        spanish: ucFirst(spanishDay),
							        english: ucFirst(week.english[index])
							    }
							);

							console.log(bilingualWeekObj);
						</code></pre>

					</section>

					<section class="center">

						<h3>Arrow functions have no 'this'</h3>

	                    <div class="fragment fade-out">
							<h3>ES5</h3>
							<pre><code data-trim class="javascript">
								const worker = {
								    firstName: 'Peter',
								    lastName: 'Jackson',
								    showFullName: function() {
								        console.log(this.firstName + ' ' + this.lastName);
								    },
								    showThis: function () {
								        console.log(this);
								    }
								};

								worker.showFullName();
								worker.showThis();
							</code></pre>
					    </div>

						<div class="fragment">
							<h3>ES6</h3>
							<pre><code data-trim class="javascript">
							const es6Worker = {
							    firstName: 'Peter',
							    lastName: 'Jackson',
							    showFullName: () => {
							        console.log(this.firstName + ' ' + this.lastName);
							    },
							    showThis: () => {
							        console.log(this);
							    }
							};

							es6Worker.showFullName();
							es6Worker.showThis();
							</code></pre>
						</div>

					</section>

					<section class="center">

						<h4>What will happen?</h4>
						<pre><code data-trim class="javascript">
							const timer = {
							    waitAndInc: function () {

							        this.counter = 8;
							        console.log('Initial value: ' + this.counter);

							        setTimeout(function () {
							            this.counter++;
							            console.log('Final value: ' + this.counter);
						            }, 1000);

							    }
							};

							timer.waitAndInc();
						</code></pre>

                    </section>

					<section class="center">

						<h4>How we can fix it?</h4>
						<pre class="fragment"><code data-trim class="javascript">
							const fixedTimer = {
							    waitAndInc: function () {

							        this.counter = 8;
							        console.log('Initial value: ' + this.counter);

                                    var tthis = this;

							        setTimeout(function () {
							            tthis.counter++;
							            console.log('Final value: ' + tthis.counter);
						            }, 1000);

							    }
							};

							fixedTimer.waitAndInc();
						</code></pre>

                    </section>

					<section class="center">

						<h4>using arrow functions... no problem!</h4>
						<pre><code data-trim class="javascript">
							const es6Timer = {
							    waitAndInc: function () {

							        this.counter = 8;
							        console.log('Initial value: ' + this.counter);

							        setTimeout(() => {
							            this.counter++;
							            console.log('Final value: ' + this.counter);
						            }, 1000);

							    }
							};

							es6Timer.waitAndInc();
						</code></pre>

                    </section>

				</section>

				<section>

					<section class="center">

						<h4>How do you check for optional agruments and apply default values?</h4>
						<pre><code data-trim class="javascript">
// chunkSize is optional, default value: 10

function processData (data, chunkSize) {
    console.log('Processing data on chunks of ' + chunkSize +
        ' records...');
}

processData(['ab', 'cd']);
						</code></pre>

				    </section>

					<section class="center">

						<h4>Do you use this? Some problem with it?</h4>
						<pre><code data-trim class="javascript">
// chunkSize is optional, default value: 10

function processData (data, chunkSize) {
    chunkSize = chunkSize || 10;
    console.log('Processing data on chunks of ' + chunkSize +
        ' records...');
}

processData(['ab', 'cd']);
						</code></pre>

				    </section>

					<section class="center">

						<h4>Or this...</h4>
						<pre><code data-trim class="javascript">
// chunkSize is optional, default value: 10

function processData (data, chunkSize) {
    if (!chunkSize) {
        chunkSize = 10;
    }

    console.log('Processing data on chunks of ' + chunkSize +
        ' records...');
}

processData(['ab', 'cd']);
						</code></pre>

				    </section>

					<section background-image="img/01/be-careful.jpg" class="center">
						<h2>Be careful: 'falsy'</h2>
						<h3>The following are evaluated as false on boolean-context (if, &&, ||...)</h3>
						<ul>
							<li>false</li>
							<li>null</li>
							<li>0</li>
							<li>NaN</li>
							<li>''</li>
							<li>""</li>
							<li>document.all</li>
						</ul>
					</section>

				</section>

				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				center: false,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
